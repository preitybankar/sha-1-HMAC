<html>
<head>
	<script type="text/javascript" src="sha.js"></script>
</head>
<body>


<form action="#" method="get">
				<fieldset>
					<legend>HMAC Demo</legend>
					<p>
						Simply insert your text to be hashed, text type, key, key type, the SHA variant you wish to use, and the output format.<br>
						<span style="font-size: 12px">Note: You may have to scroll the output text for longer length hashes</span>
					</p>
					<div>
						<label for="hmacInputText">Input Text:</label><input type="text" size="75" name="hmacInputText" id="hmacInputText" onkeyup="calcHMAC()">
					</div>
					<div>
						<label for="hmacTextType">Input Type:</label>
						<select name="hmacTextType" id="hmacTextType" onchange="calcHMAC()">
							<option value="B64">Base-64</option>
							<option selected="selected">TEXT</option>
							<option>HEX</option>
						</select>
					</div>
					<div>
						<label for="hmacInputKey">Key:</label><input type="text" size="75" name="hmacInputKey" id="hmacInputKey" onkeyup="calcHMAC()">
					</div>
					<div>
						<label for="hmacKeyType">Key Type:</label>
						<select name="hmacKeyType" id="hmacKeyType" onchange="calcHMAC()">
							<option value="B64">Base-64</option>
							<option selected="selected">TEXT</option>
							<option>HEX</option>
						</select>
					</div>
					<div>
						<label for="hmacVariant">SHA Variant:</label>
						<select name="hmacVariant" id="hmacVariant" onchange="calcHMAC()">
							<option>SHA-1</option>
							<option>SHA-224</option>
							<option>SHA-256</option>
							<option>SHA-384</option>
							<option>SHA-512</option>
						</select>
					</div>
					<div>
						<label for="hmacOutputType">Output Type:</label>
						<select name="hmacOutputType" id="hmacOutputType" onchange="calcHMAC()">
							<option value="B64">Base-64</option>
							<option selected="selected">HEX</option>
						</select>
					</div>
					<div>
						<label for="hmacOutputText">Output Hash:</label>
						<input type="text" size="75" name="hmacOutputText" id="hmacOutputText" style="background-color: #b1ceed">
					</div>
				</fieldset>
			</form>
<script>
    
		function calcHMAC() {
			try {
				var hmacText = document.getElementById("hmacInputText"); // data
				var hmacTextType = document.getElementById("hmacTextType"); //TEXT
				var hmacKeyInput = document.getElementById("hmacInputKey");// secret key
				var hmacKeyInputType = document.getElementById("hmacKeyType");//TEXT
				var hmacVariant = document.getElementById("hmacVariant");//SHA-1
				var hmacOutputType = document.getElementById("hmacOutputType");//Base-64
				var hmacOutput = document.getElementById("hmacOutputText");
				console.log("hmacText"+hmacText.value +"hmacTextType"+ hmacTextType.options[hmacTextType.selectedIndex].value);
				var hmacObj = new jsSHA(hmacText.value, hmacTextType.options[hmacTextType.selectedIndex].value);

				hmacOutput.value = hmacObj.getHMAC(
					hmacKeyInput.value,
					hmacKeyInputType.options[hmacKeyInputType.selectedIndex].value,
					hmacVariant.options[hmacVariant.selectedIndex].value,
					hmacOutputType.options[hmacOutputType.selectedIndex].value
				);
			} catch(e) {
				hmacOutput.value = e
			}
		}
	
</script>
</body>
</html>
